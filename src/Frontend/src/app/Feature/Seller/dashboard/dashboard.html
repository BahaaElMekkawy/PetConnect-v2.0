<!-- Enhanced seller profile dashboard with modern card-based layout matching customer profile design -->
<section class="profile-hero">
  <div class="hero-background"></div>
  <div class="hero-content">
    <div class="hero-icon">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
        <circle cx="8.5" cy="7" r="4"></circle>
        <path d="M20 8v6M23 11h-6"></path>
      </svg>
    </div>
    <h1 class="hero-title">Seller Dashboard</h1>
    <p class="hero-description">
      Manage your products, track orders, and grow your business with our comprehensive seller tools.
    </p>
  </div>
</section>

<div class="profile-container">
  <div class="profile-layout">
    <!-- Profile Sidebar -->
    <div class="profile-sidebar">
      <!-- Seller Profile Card -->
      <div class="profile-card">
        <div class="profile-content">
          <div class="avatar-section">
            <div class="avatar-wrapper">
              <img [src]="getProfileImage(seller.imgUrl)" [alt]="sellerName" class="avatar-image" />
              <div class="avatar-status"></div>
            </div>
            <h2 class="profile-name">{{ seller.fName }} {{ seller.lName }}</h2>
            <p class="profile-location">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              {{ seller.city }}, {{ seller.country }}
            </p>
            <div class="pet-count">
              <span class="count-number">{{ products.length }}</span>
              <span class="count-label">Products</span>
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn-primary" [class.active]="activeTab === 'products'" (click)="activeTab = 'products'">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                </path>
              </svg>
              My Products
            </button>
            <button class="btn-secondary" [class.active]="activeTab === 'orders'" (click)="activeTab = 'orders'">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"></path>
                <rect x="9" y="7" width="6" height="4"></rect>
              </svg>
              Orders
            </button>
            <button class="btn-outline" (click)="showAddForm = true" *ngIf="activeTab === 'products'">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              Add Product
            </button>
            <button class="btn-reviews">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon
                  points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26">
                </polygon>
              </svg>
              Analytics
            </button>
          </div>
        </div>
      </div>

      <!-- Seller Details Card -->
      <div class="details-card">
        <h3 class="details-title">Seller Details</h3>
        <div class="details-list">
          <div class="detail-item">
            <span class="detail-label">Full Name</span>
            <span class="detail-value">{{ seller.fName }} {{ seller.lName }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Location</span>
            <span class="detail-value">{{ seller.city }}, {{ seller.country }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Total Products</span>
            <span class="detail-value">{{ products.length }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Total Orders</span>
            <span class="detail-value">{{ orders.length }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Products Tab -->
      <div *ngIf="activeTab === 'products'" class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
              </path>
            </svg>
            My Products
          </h2>
        </div>

        <!-- Add Product Form -->
        <div *ngIf="showAddForm" class="add-product-section">
          <div class="form-card">
            <div class="form-header">
              <h3 class="form-title">Add New Product</h3>
              <button class="btn-close" (click)="cancelAdd()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"></line>
                  <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
              </button>
            </div>
            <form class="product-form" [formGroup]="addProductGroup" (ngSubmit)="addProduct()">
              <div class="form-grid">
                <div class="form-group">
                  <label for="productName" class="form-label">Product Name</label>
                  <input type="text" id="productName" class="form-control" formControlName="Name" required>
                </div>

                <div class="form-group">
                  <label for="productType" class="form-label">Product Type</label>
                  <select id="productType" class="form-control" formControlName="ProductTypeId">
                    <option *ngFor="let type of productTypes" [value]="type.id">{{ type.name }}</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="quantity" class="form-label">Quantity</label>
                  <input type="number" id="quantity" formControlName="Quantity" class="form-control" min="0" required>
                </div>

                <div class="form-group">
                  <label for="price" class="form-label">Price ($)</label>
                  <input type="number" id="price" formControlName="Price" class="form-control" min="0" step="0.01"
                    required>
                </div>

                <div class="form-group full-width">
                  <label for="imgUrl" class="form-label">Product Image</label>
                  <input type="file" id="imgUrl" (change)="onFileSelected($event)" class="form-control">
                </div>

                <div class="form-group full-width">
                  <label for="description" class="form-label">Description</label>
                  <textarea id="description" formControlName="Description" class="form-control" rows="3"></textarea>
                </div>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-submit">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20,6 9,17 4,12"></polyline>
                  </svg>
                  Add Product
                </button>
                <button type="button" class="btn-cancel" (click)="cancelAdd()">Cancel</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Products Grid -->
        <div class="products-grid" *ngIf="products.length > 0">
          <div class="product-card" *ngFor="let product of products; let i = index">
            <div class="product-image-wrapper">
              <img *ngIf="product.imgUrl" [src]="getFullImageUrl(product.imgUrl)" [alt]="product.productName"
                class="product-image" (error)="onImageError($event)">
              <div class="product-overlay" *ngIf="!product.imgUrl">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                  </path>
                </svg>
              </div>
            </div>
            <div class="product-info">
              <h3 class="product-name">{{ product.productName }}</h3>
              <p class="product-type">{{ product.productType.name }}</p>
              <p class="product-description" *ngIf="product.productDescription">
                {{ product.productDescription }}
              </p>
              <div class="product-details">
                <div class="price-info">
                  <span class="price">${{ product.price }}</span>
                  <span class="stock">Stock: {{ product.quantity }}</span>
                </div>
              </div>
              <div class="stock-management">
                <div class="stock-input-group">
                  <input type="number" min="1" [(ngModel)]="product.addQuantity" placeholder="Add quantity"
                    class="stock-input">
                  <button class="btn-add-stock" (click)="addToStock(product)">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19"></line>
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add Stock
                  </button>
                </div>
              </div>
              <div class="product-actions">
                <button class="btn-delete" (click)="deleteProduct(product.id)">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6"></polyline>
                    <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"></path>
                  </svg>
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Empty State -->
        <div *ngIf="products.length === 0" class="empty-state">
          <div class="empty-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
              </path>
            </svg>
          </div>
          <h3 class="empty-title">No Products Yet</h3>
          <p class="empty-description">Add your first product to get started selling!</p>
        </div>
      </div>

      <!-- Orders Tab -->
      <div *ngIf="activeTab === 'orders'" class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"></path>
              <rect x="9" y="7" width="6" height="4"></rect>
            </svg>
            Order Management
          </h2>
        </div>

        <!-- Orders Table -->
        <div class="table-container" *ngIf="orders.length > 0">
          <div class="enhanced-table">
            <div class="table-header">
              <div class="header-cell">Order ID</div>
              <div class="header-cell">Customer</div>
              <div class="header-cell">Product</div>
              <div class="header-cell">Quantity</div>
              <div class="header-cell">Total</div>
              <div class="header-cell">Status</div>
              <div class="header-cell">Date</div>
              <div class="header-cell">Actions</div>
            </div>
            <div class="table-body">
              <div class="table-row" *ngFor="let order of orders">
                <div class="table-cell">
                  <span class="order-id">#{{ order.orderId }}</span>
                </div>
                <div class="table-cell">
                  <span class="customer-name">{{ order.customerName }}</span>
                </div>
                <div class="table-cell">
                  <span class="product-name">{{ order.productName }}</span>
                </div>
                <div class="table-cell">
                  <span class="quantity">{{ order.quantity }}</span>
                </div>
                <div class="table-cell">
                  <span class="total-price">${{ order.unitPrice * order.quantity }}</span>
                </div>
                <div class="table-cell">
                  <span class="status-badge" [ngClass]="getStatusClass(getOrderStatusEnum(order.orderProductStatus))">
                    {{ getOrderStatusEnum(order.orderProductStatus) }}
                  </span>
                </div>
                <div class="table-cell">
                  <span class="order-date">{{ order.orderDate | date:'mediumDate' }}</span>
                </div>
                <div class="table-cell">
                  <div class="action-buttons-group" *ngIf="order.orderProductStatus === 0">
                    <button class="btn-approve"
                      (click)="shipOrder({orderId:order.orderId,productId:order.productId,orderProductStatus:order.orderProductStatus})">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <polyline points="20,6 9,17 4,12"></polyline>
                      </svg>
                      Ship Order
                    </button>
                    <!-- <button class="btn-cancel"
                      (click)="denyOrder({orderId:order.orderId,productId:order.productId,orderProductStatus:order.orderProductStatus})">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                      </svg>
                      Deny Order
                    </button> -->
                  </div>
                  <span *ngIf="order.orderProductStatus !== 0" class="no-actions">No Actions Required</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Empty State -->
        <div *ngIf="orders.length === 0" class="empty-state">
          <div class="empty-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4"></path>
              <rect x="9" y="7" width="6" height="4"></rect>
            </svg>
          </div>
          <h3 class="empty-title">No Orders Yet</h3>
          <p class="empty-description">Orders will appear here when customers make purchases.</p>
        </div>
      </div>
    </div>
  </div>
</div>