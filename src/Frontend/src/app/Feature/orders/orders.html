<!-- Added loading indicator and full page layout wrapper -->
<div class="page-wrapper">
  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="loading-overlay">
    <div class="loading-spinner">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="loading-text">Loading your orders...</p>
    </div>
  </div>

  <!-- Wrapped main content in centered container -->
  <div class="main-content" *ngIf="!isLoading">
    <div class="container mt-4">
      <!-- Centered the title -->
      <h2 class="h4 fw-bold mb-4 text-center">Your Orders</h2>

      <!-- Centered the no orders message -->
      <div *ngIf="orders.length === 0" class="alert alert-info text-center">
        You have no orders yet.
      </div>

      <div *ngFor="let order of pagedOrders" class="card mb-4 shadow-sm order-card">
        <div class="card-body">
          <div class="order-header mb-3">
            <div class="order-info">
              <span class="fw-semibold">Order Date:</span>
              <span class="order-date">{{ order.orderDate | date : "shortDate" }}</span>
              <span class="ms-3 fw-semibold">Total Price:</span>
              <span class="order-total">{{ order.totalPrice | currency : "USD" }}</span>

            </div>
          </div>

          <div *ngIf="order.products?.length > 0" class="products-section">
            <!-- Desktop table view -->
            <div class="table-responsive d-none d-md-block">
              <table class="table table-sm table-bordered align-middle mb-0">
                <thead class="table-light">
                  <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Image</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let product of order.products">
                    <td class="product-name">{{ product.productName }}</td>
                    <td>{{ product.price | currency : "USD" }}</td>
                    <td>{{ product.quantity }}</td>
                    <td>
                      <img [src]="server + '/' + product.productImageUrl" alt="Product image"
                        class="img-thumbnail product-image" />
                    </td>
                    <td class="text-center">
                      <span class="status" [ngClass]="getStatusClass(product.status)">
                        {{ product.status }}
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Mobile card view -->
            <div class="d-block d-md-none">
              <div *ngFor="let product of order.products" class="product-card mb-3">
                <div class="row g-3">
                  <div class="col-4">
                    <img [src]="server + '/' + product.productImageUrl" alt="Product image"
                      class="img-fluid product-image-mobile" />
                  </div>
                  <div class="col-8">
                    <h6 class="product-name-mobile">{{ product.productName }}</h6>
                    <div class="product-details">
                      <div class="mb-1">
                        <strong>Price:</strong> {{ product.price | currency : "USD" }}
                      </div>
                      <div class="mb-2">
                        <strong>Quantity:</strong> {{ product.quantity }}
                      </div>
                      <span class="status" [ngClass]="getStatusClass(product.status)">
                        {{ product.status }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="totalPages > 1" class="pagination-wrapper">
        <button class="btn btn-outline-secondary me-2" (click)="prevPage()" [disabled]="currentPage === 1">
          Previous
        </button>

        <span class="page-info">Page {{ currentPage }} of {{ totalPages }}</span>

        <button class="btn btn-outline-secondary ms-2" (click)="nextPage()" [disabled]="currentPage === totalPages">
          Next
        </button>
      </div>

      <!-- Centered the go back button -->
      <div class="text-center mt-4">
        <button (click)="goBack()" class="btn btn-outline-danger">Go Back</button>
      </div>
    </div>
  </div>

  <!-- Added footer at the bottom of the page -->
  <footer class="page-footer" *ngIf="!isLoading">
    <div class="container text-center">
      <p class="mb-0">&copy; 2024 PetConnect. All rights reserved.</p>
    </div>
  </footer>
</div>