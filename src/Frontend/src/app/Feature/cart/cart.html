<!-- Modern Cart Page with Enhanced Design -->
<div class="cart-page-wrapper">
  <!-- Main Cart Container -->
  <div class="cart-container">
    <div class="cart-content">

      <!-- Header Section -->
      <div class="cart-header">
        <button class="back-btn" [routerLink]="['/all-products']">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7" />
          </svg>
          Continue Shopping
        </button>
        <h1 class="cart-title">Shopping Cart</h1>
      </div>

      <!-- Cart Content -->
      <div class="cart-layout" *ngIf="cartItems.length > 0">

        <!-- Left Side - Cart Items -->
        <div class="cart-items-section">
          <div class="cart-items-header">
            <h2>Your Items</h2>
            <span class="items-count">{{cartItems.length}} item<span *ngIf="cartItems.length !== 1">s</span></span>
          </div>

          <div class="cart-items-list">
            <div *ngFor="let item of cartItems; let i = index" class="cart-item">
              <div class="item-image">
                <img [src]="server + item.imgUrl" [alt]="item.name" />
              </div>

              <div class="item-details">
                <h3 class="item-name">{{item.name}}</h3>
                <p class="item-description">{{item.description}}</p>
                <div class="item-price">{{item.price | currency:'USD':'symbol':'1.0-0'}}</div>
              </div>

              <div class="item-controls">
                <div class="quantity-controls">
                  <button class="qty-btn" (click)="updateQuantity(i, item.quantity - 1)"
                    [disabled]="item.quantity <= 1">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                  </button>

                  <span class="quantity">{{item.quantity}}</span>

                  <button class="qty-btn" (click)="updateQuantity(i, item.quantity + 1)"
                    [disabled]="item.quantity >= (item.maxQuantity || 99)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19" />
                      <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                  </button>
                </div>

                <div class="item-total">
                  {{item.price * item.quantity | currency:'USD':'symbol':'1.0-0'}}
                </div>

                <button class="remove-btn" (click)="removeItem(i)">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6" />
                    <path d="M19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Side - Order Summary -->
        <div class="order-summary-section">
          <div class="order-summary">
            <h3>Order Summary</h3>

            <div class="summary-line">
              <span>Subtotal</span>
              <span>{{getSubtotal() | currency:'USD':'symbol':'1.0-0'}}</span>
            </div>



            <div class="summary-line">
              <span>Tax</span>
              <span>Calculated at checkout</span>
            </div>

            <div class="summary-divider"></div>

            <div class="summary-total">
              <span>Total</span>
              <span>{{getSubtotal() | currency:'USD':'symbol':'1.0-0'}}</span>
            </div>

            <button class="checkout-btn" (click)="proceedToCheckout()" [disabled]="isProcessing">
              <span *ngIf="!isProcessing" class="btn-content">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 12l2 2 4-4" />
                </svg>
                Proceed to Checkout
              </span>
              <span *ngIf="isProcessing" class="btn-loading">
                <div class="loading-spinner"></div>
                Processing...
              </span>
            </button>

            <div class="security-badges">
              <div class="security-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                </svg>
                Secure Checkout
              </div>
              <div class="security-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" />
                  <path d="M3 5c0-1.66 4-3 9-3s9 1.34 9 3" />
                  <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" />
                </svg>
                SSL Protected
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty Cart State -->
      <div *ngIf="cartItems.length === 0" class="empty-cart">
        <div class="empty-cart-content">
          <div class="empty-cart-icon">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path
                d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.35 2.65a1 1 0 0 0 .7 1.35H19M7 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" />
              <circle cx="9" cy="20" r="1" />
              <circle cx="20" cy="20" r="1" />
            </svg>
          </div>
          <h2>Your cart is empty</h2>
          <p>Looks like you haven't added any items to your cart yet. Start shopping to fill it up!</p>
          <button class="continue-shopping-btn" [routerLink]="['/all-products']">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.35 2.65a1 1 0 0 0 .7 1.35H19" />
            </svg>
            Start Shopping
          </button>
        </div>
      </div>

    </div>
  </div>

  <!-- Fixed Footer -->
  <footer class="cart-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="#" class="footer-link">Privacy Policy</a>
        <a href="#" class="footer-link">Terms of Service</a>
        <a href="#" class="footer-link">Support</a>
      </div>
      <div class="footer-copyright">
        <p>&copy; 2024 PetConnect. All rights reserved.</p>
      </div>
    </div>
  </footer>
</div>